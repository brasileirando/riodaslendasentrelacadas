<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Rio das Lendas Entrelaçadas - Jornada Completa</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Sans+JP:wght@300;400&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-purple: #4a0d67;
            --color-blue: #004d7a;
            --color-red: #d62828;
            --color-gold: #ffd700;
            --color-text: #f0e6ff;
            --font-title-main: 'Cinzel', serif;
            --font-body-main: 'Noto Sans JP', sans-serif;
            --font-choice: 'Inter', sans-serif;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-body-main);
            color: var(--color-text);
            background: linear-gradient(135deg, var(--color-purple) 0%, var(--color-blue) 50%, var(--color-red) 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }
        
        /* ESTILOS DA PARTE 1 */
        header { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 2rem; position: relative; }
        header h1 { font-family: var(--font-title-main); font-size: clamp(2.5rem, 8vw, 6rem); color: var(--color-gold); text-shadow: 0 0 15px rgba(255, 215, 0, 0.7); margin-bottom: 1rem; }
        header p { font-family: var(--font-body-main); font-size: clamp(1rem, 3vw, 1.5rem); max-width: 800px; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.5); }
        .scroll-down { position: absolute; bottom: 30px; font-size: 0.9rem; color: var(--color-gold); animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-20px); } 60% { transform: translateY(-10px); } }
        .journey-section { padding: 10vh 2rem; min-height: 100vh; display: flex; align-items: center; justify-content: center; position: relative; }
        .journey-section .content-wrapper { max-width: 1200px; width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; }
        .journey-section:nth-child(odd) .content-wrapper { direction: rtl; }
        .journey-section:nth-child(odd) .content-wrapper > * { direction: ltr; }
        .journey-section .text-content { padding: 2rem; background: rgba(0, 0, 0, 0.2); border-radius: 15px; border: 1px solid rgba(255, 215, 0, 0.2); }
        .journey-section .text-content h2 { font-family: var(--font-title-main); color: var(--color-gold); font-size: clamp(1.8rem, 5vw, 2.5rem); margin-bottom: 1rem; }
        .journey-section .text-content p { font-size: 1.1rem; line-height: 1.7; }
        .interactive-container { display: flex; justify-content: center; align-items: center; perspective: 1000px; }
        .artifact, .basket { cursor: pointer; transition: transform 0.5s, filter 0.5s; filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5)); }
        .artifact:hover, .basket:hover { transform: scale(1.1) rotateY(10deg); filter: drop-shadow(0 0 25px var(--color-gold)); }
        .artifact { width: 250px; height: 250px; }
        .basket-container { position: relative; width: 200px; height: 150px; }
        .basket-base { width: 200px; height: 100px; position: absolute; bottom: 0; }
        .basket-lid { width: 210px; height: 50px; position: absolute; top: 25px; left: -5px; transform-origin: top; transition: transform 0.5s ease-in-out; }
        .basket-container.open .basket-lid { transform: rotateX(-120deg); }
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.4s, visibility 0.4s; z-index: 2000; }
        .modal.visible { opacity: 1; visibility: visible; }
        .modal-content { background: linear-gradient(135deg, var(--color-purple), var(--color-blue)); padding: 3rem; border-radius: 20px; max-width: 600px; width: 90%; text-align: center; border: 2px solid var(--color-gold); box-shadow: 0 0 30px rgba(255, 215, 0, 0.5); transform: scale(0.8); transition: transform 0.4s; }
        .modal.visible .modal-content { transform: scale(1); }
        .modal h3 { font-family: var(--font-title-main); color: var(--color-gold); font-size: 2rem; margin-bottom: 1rem; }
        .modal p { font-size: 1.1rem; line-height: 1.6; white-space: pre-wrap; }
        .close-modal { position: absolute; top: 15px; right: 15px; background: none; border: none; color: var(--color-gold); font-size: 2rem; cursor: pointer; }

        /* ESTILOS DA PARTE 2 (A ENCRUZILHADA) */
        .hidden { display: none !important; }
        .fading-out { opacity: 0; transition: opacity 0.7s ease-out; }
        .choice-hub { font-family: var(--font-choice); }
        .choice-hub h2 { font-family: var(--font-choice); color: var(--color-gold); font-size: 1rem; font-weight: 700; margin-bottom: 1.5rem; text-shadow: none; }
        .choice-hub > div > p { font-family: var(--font-choice); font-size: 0.6875rem; font-weight: 400; line-height: 2; margin-bottom: 5rem; color: rgba(240, 230, 255, 0.9); }
        .choice-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem 2rem; max-width: 800px; width: 100%; margin: 0 auto; }
        .choice-btn { background-color: transparent; border: 2px solid var(--color-gold); color: var(--color-gold); font-family: 'Cinzel', serif; font-weight: 700; font-size: clamp(0.9rem, 2vw, 1.1rem); padding: 1rem; border-radius: 50px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 0.8rem; text-align: center; }
        .choice-btn:hover { background-color: var(--color-gold); color: var(--color-purple); box-shadow: 0 0 20px var(--color-gold); transform: translateY(-5px); }
        .path-container { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem; text-align: center; }
        .path-container h2 { font-family: 'Cinzel', serif; font-size: clamp(2rem, 6vw, 3.5rem); margin-bottom:1.5rem; color:var(--color-gold); text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
        .path-container p { font-family: var(--font-choice); font-size: clamp(0.9rem, 1.5vw, 1rem); max-width: 700px; line-height: 1.8; margin: 0 auto 3rem auto; }
        .path-container .content-wrapper { max-width: 1200px; width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; }
        .path-container .text-content { padding: 2rem; background: rgba(0, 0, 0, 0.2); border-radius: 15px; border: 1px solid rgba(255, 215, 0, 0.2); text-align: left; }
        .path-container .text-content h3 { font-family: 'Cinzel', serif; color: var(--color-gold); margin-bottom: 1rem; }
        .path-container .text-content p { font-size: clamp(0.85rem, 1.5vw, 0.95rem); }
        .path-container .artifact { width: 280px; height: 280px; }
        .final-message { margin-top: 3rem; font-size: 1.2rem; color: var(--color-gold); font-family: 'Cinzel', serif; }
        .path-content, .oracle-intro { opacity: 0; animation: fadeIn 1.5s forwards; animation-delay: 0.5s; }
        @keyframes fadeIn { to { opacity: 1; } }
        
        /* ESTILOS DA PARTE 3 (ORÁCULO) */
        .oracle-section h2 { font-family: 'Cinzel', serif; font-size: clamp(2rem, 6vw, 3.5rem); margin-bottom:1.5rem; color:var(--color-gold); text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
        .oracle-section p { font-family: var(--font-choice); font-size: clamp(0.9rem, 1.5vw, 1rem); max-width: 700px; line-height: 1.8; margin: 0 auto 3rem auto; }
        .game-area { width: 100%; max-width: 800px; height: 400px; background: rgba(0, 0, 0, 0.15); border: 2px solid rgba(255, 215, 0, 0.3); border-radius: 20px; position: relative; cursor: pointer; }
        .game-area::before { content: 'CLIQUE PARA INICIAR'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: var(--font-title-main); font-size: 1.5rem; color: rgba(255, 215, 0, 0.4); letter-spacing: 2px; pointer-events: none; }
        .game-area.active::before { display: none; }
        .falling-leaf { position: absolute; top: -120px; width: 60px; height: 90px; filter: drop-shadow(0 0 15px var(--color-gold)); cursor: pointer; transition: transform 0.2s, opacity 0.3s; animation: fall-leaf linear forwards, sway-leaf 4s ease-in-out infinite alternate; }
        .falling-leaf svg { width: 100%; height: 100%; pointer-events: none; }
        .falling-leaf:hover { transform: scale(1.2); }
        @keyframes fall-leaf { from { top: -120px; } to { top: 100%; } }
        @keyframes sway-leaf { from { transform: translateX(-40px) rotate(-25deg); } to { transform: translateX(40px) rotate(25deg); } }
        .result-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.5s; z-index: 2000; }
        .result-modal.visible { opacity: 1; visibility: visible; }
        .result-content { text-align: center; padding: 3rem; max-width: 500px; }
        .result-content h3 { font-family: var(--font-title-main); color: var(--color-gold); font-size: 2rem; margin-bottom: 1rem; }
        .result-content p { font-family: var(--font-choice); font-size: 1.25rem; line-height: 1.7; margin-bottom: 2rem; }
        .close-result { background-color: transparent; border: 2px solid var(--color-gold); color: var(--color-gold); font-family: var(--font-title-main); font-size: 1rem; padding: 0.8rem 1.5rem; border-radius: 50px; cursor: pointer; transition: all 0.3s ease; }
        .close-result:hover { background-color: var(--color-gold); color: var(--color-purple); }

        @media (max-width: 900px) {
            .journey-section .content-wrapper, .path-container .content-wrapper { grid-template-columns: 1fr; }
            .interactive-container { margin-bottom: 2rem; }
            .text-content { text-align: center; }
        }
        @media (max-width: 600px) { .choice-buttons { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <header>
        <h1>O Rio das Lendas Entrelaçadas</h1>
        <p>Uma jornada interativa onde as águas do tempo unem as mitologias do Brasil e do Oriente. Role para baixo e mergulhe neste rio de histórias.</p>
        <div class="scroll-down">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M19 12l-7 7-7-7"/></svg>
            <br>Role para Iniciar
        </div>
    </header>

    <main>
        <!-- PARTE 1 COM ARTEFATOS REALISTAS -->
        <section class="journey-section">
            <div class="content-wrapper">
                <div class="interactive-container">
                    <svg class="artifact" id="artifact1" viewBox="0 0 100 100" data-title="O Vaso Quebrado e Reconstruído" data-text="Nas margens do rio, onde as águas se acalmam, encontramos a primeira peça: uma cerâmica Marajoara, com seus labirintos geométricos, unida por veios de ouro puro. Esta é a arte do Kintsugi, que não esconde as fraturas, mas as celebra. A peça conta que a beleza verdadeira reside na resiliência e na história de superação, unindo a força da terra amazônica com a filosofia da aceitação oriental.">
                        <defs>
                            <radialGradient id="pottery-grad-realistic" cx="50%" cy="50%" r="50%" fx="30%" fy="30%"><stop offset="0%" stop-color="#be9a7f"/><stop offset="100%" stop-color="#6d4c41"/></radialGradient>
                            <filter id="gold-glow"><feGaussianBlur stdDeviation="1.5" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                        </defs>
                        <path d="M22 98 C 20 100, 80 100, 78 98 Q 85 70, 82 50 C 90 30, 75 8, 50 8 C 25 8, 10 30, 18 50 Q 15 70, 22 98 Z" fill="url(#pottery-grad-realistic)"/>
                        <path d="M22 98 C 20 100, 80 100, 78 98 Q 85 70, 82 50 C 90 30, 75 8, 50 8 C 25 8, 10 30, 18 50 Q 15 70, 22 98 Z" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1.5"/>
                        <path d="M48 12 C 40 25, 40 35, 50 45 C 60 35, 60 25, 52 12" fill="none" stroke="#5d4037" stroke-width="1"/>
                        <path d="M25 55 L 75 55 M 28 65 L 72 65 M 32 75 L 68 75 M 38 85 L 62 85" fill="none" stroke="#5d4037" stroke-width="0.8"/>
                        <path d="M55 8 C 40 35, 75 65, 40 98" fill="none" stroke="#ffd700" stroke-width="2.5" filter="url(#gold-glow)"/>
                        <path d="M22 60 C 40 55, 60 65, 78 62" fill="none" stroke="#ffd700" stroke-width="2" filter="url(#gold-glow)"/>
                    </svg>
                </div>
                <div class="text-content"><h2>O Começo da Travessia</h2><p>O céu se tinge de púrpura e anil. O rio à sua frente não é feito de água, mas de tempo líquido, e em suas correntezas flutuam histórias. Toque no vaso para desvendar o primeiro segredo.</p></div>
            </div>
        </section>

        <section class="journey-section">
            <div class="content-wrapper">
                 <div class="interactive-container">
                    <div class="basket-container basket" id="basket1" data-title="Haiku do Saci" data-text="Pulo de um pé só,&#x0a;Vento em rodamoinho...&#x0a;Gorro me desfaz.">
                        <svg class="basket-lid" viewBox="0 0 210 50"><defs><pattern id="weave" patternUnits="userSpaceOnUse" width="10" height="10"><path d="M-5,5 l10,-10 M0,10 l10,-10 M5,15 l10,-10" stroke="#65340f" stroke-width="2.5"/></pattern></defs><rect x="0" y="0" width="210" height="50" rx="25" fill="#8b4513"/><rect x="0" y="0" width="210" height="50" rx="25" fill="url(#weave)"/></svg>
                        <svg class="basket-base" viewBox="0 0 200 100"><rect x="0" y="0" width="200" height="100" rx="80" ry="20" fill="#8b4513"/><rect x="0" y="0" width="200" height="100" rx="80" ry="20" fill="url(#weave)"/></svg>
                    </div>
                 </div>
                <div class="text-content"><h2>O Cesto do Travesso</h2><p>Um pequeno cesto de palha desce o rio, girando suavemente. Dizem que pertence a um guardião das matas, um ser de uma perna só cujo riso ecoa com o vento. O que será que ele guarda?</p></div>
            </div>
        </section>
        
        <section class="journey-section">
            <div class="content-wrapper">
                <div class="interactive-container">
                    <svg class="artifact" id="artifact2" viewBox="0 0 100 100" data-title="O Leque da Serpente de Fogo" data-text="Este leque é feito das mais vibrantes penas de arara, e em seu centro, um ideograma japonês (Kanji) para 'fogo' (火) brilha sutilmente. Ele pertence ao Boitatá, a serpente de fogo que protege os campos. O leque não cria vento, mas ao ser aberto, espalha fagulhas de sabedoria, ensinando que a verdadeira proteção nasce não da força bruta, mas da luz que ilumina e guia.">
                        <defs>
                            <linearGradient id="red-feather-real" gradientTransform="rotate(90)"><stop offset="5%" stop-color="#e53935" /><stop offset="95%" stop-color="#c62828" /></linearGradient>
                            <linearGradient id="blue-feather-real" gradientTransform="rotate(90)"><stop offset="5%" stop-color="#1e88e5" /><stop offset="95%" stop-color="#1565c0" /></linearGradient>
                            <linearGradient id="yellow-feather-real" gradientTransform="rotate(90)"><stop offset="5%" stop-color="#fdd835" /><stop offset="95%" stop-color="#f9a825" /></linearGradient>
                            <linearGradient id="green-feather-real" gradientTransform="rotate(90)"><stop offset="5%" stop-color="#43a047" /><stop offset="95%" stop-color="#2e7d32" /></linearGradient>
                        </defs>
                        <g transform="translate(50 95) scale(1.2)">
                            <path d="M0,0 Q-40,-50 -20,-80 Q-5,-95 0,-100 Q5,-95 20,-80 Q40,-50 0,0" fill="url(#red-feather-real)" transform="rotate(-45)" />
                            <path d="M0,0 Q-35,-50 -15,-80 Q-5,-90 0,-95 Q5,-90 15,-80 Q35,-50 0,0" fill="url(#blue-feather-real)" transform="rotate(-15)" />
                            <path d="M0,0 Q-30,-50 -10,-80 Q-5,-85 0,-90 Q5,-85 10,-80 Q30,-50 0,0" fill="url(#yellow-feather-real)" transform="rotate(15)" />
                            <path d="M0,0 Q-40,-50 -20,-80 Q-5,-95 0,-100 Q5,-95 20,-80 Q40,-50 0,0" fill="url(#green-feather-real)" transform="rotate(45)" />
                        </g>
                        <circle cx="50" cy="95" r="10" fill="#a1887f"/>
                        <circle cx="50" cy="95" r="8" fill="#6d4c41"/>
                        <text x="42" y="55" font-size="24" fill="gold" font-family="serif" filter="url(#gold-glow)">火</text>
                    </svg>
                </div>
                <div class="text-content"><h2>A Luz que Protege</h2><p>Das profundezas do rio, emerge um brilho intenso. Um leque, formado por penas que carregam todas as cores do Brasil, flutua em sua direção. Toque-o para sentir o calor de sua lenda.</p></div>
            </div>
        </section>

        <!-- PARTE 2: A ENCRUZILHADA -->
        <section id="choice-hub" class="journey-section choice-hub">
            <div>
                <h2>A Encruzilhada do Segredo</h2>
                <p>A resposta do enigma da Cuca,<br>"um segredo", agora pulsa em suas mãos<br>como uma semente de poder.<br><br>O que você fará com ele?<br>Sua essência pode ser transformada<br>de inúmeras maneiras, e o rio aguarda<br>para te levar pelo caminho<br>que seu coração escolher.</p>
                <div class="choice-buttons">
                    <button class="choice-btn" data-path="silence">Sussurrar ao Vento</button>
                    <button class="choice-btn" data-path="echo">Gravar na Terra</button>
                    <button class="choice-btn" data-path="dreams">Plantar em um Sonho</button>
                    <button class="choice-btn" data-path="stars">Oferecer às Estrelas</button>
                </div>
            </div>
        </section>
        
        <!-- CAMINHOS DA PARTE 2 (COM ARTEFATOS REALISTAS) -->
        <section id="path-silence" class="path-container hidden"><div class="path-content">
            <h2>A Melodia Silenciosa</h2><p>Você confia seu segredo ao vento. As águas do rio se acalmam, refletindo um bosque enluarado. Este é o domínio do Boto e dos Tengu, guardiões da sabedoria oculta.</p>
            <div class="content-wrapper"><div class="interactive-container"><svg class="artifact" viewBox="0 0 100 100"><defs><radialGradient id="gradPink" cx="50%" cy="50%" r="50%" fx="50%" fy="50%"><stop offset="0%" style="stop-color:#ff8fab; stop-opacity:1" /><stop offset="100%" style="stop-color:#ffc2d1; stop-opacity:1" /></radialGradient></defs><g transform="translate(0 5)"><path d="M50 85 A 45 45 0 0 1 5 40 A 50 50 0 0 0 95 40 A 45 45 0 0 1 50 85" fill="#212121"/><path d="M50 84 A 43 43 0 0 1 7 41 A 48 48 0 0 0 93 41 A 43 43 0 0 1 50 84" fill="#d32f2f"/><path d="M50 82 A 41 41 0 0 1 9 42 A 46 46 0 0 0 91 42 A 41 41 0 0 1 50 82" fill="url(#gradPink)"/><path d="M50,85 C 40,-10 90,30 90,5" stroke="gold" stroke-width="1.5"/><path d="M50,85 C 60,-10 10,30 10,5" stroke="gold" stroke-width="1.5"/><circle cx="50" cy="85" r="5" fill="gold"/></g></svg></div>
            <div class="text-content"><h3>O Leque da Lua Silenciosa</h3><p>Sua recompensa é um leque. A seda rosa evoca a graça do Boto. A estrutura firme e a pena solitária representam a disciplina do Tengu. A lição: o silêncio não é vazio, mas um poder que move o mundo.</p></div></div><p class="final-message">Você aprendeu a Melodia Silenciosa. A jornada continua.</p>
        </div></section>
        <section id="path-echo" class="path-container hidden"><div class="path-content">
            <h2>O Lamento que Perdura</h2><p>Você grava o segredo na terra. A correnteza te leva a um pântano sombrio. Este é o território do Corpo-Seco e dos Onryō, espíritos cujas histórias ecoam pela eternidade.</p>
            <div class="content-wrapper"><div class="interactive-container"><svg class="artifact" viewBox="0 0 100 100"><g transform="rotate(10 50 50)"><path d="M20,10 C 80,-5 90,110 20,90 C -10,60 -10,30 20,10 Z" fill="#6d4c41" stroke="#4e342e" stroke-width="1"/><path d="M30 25 L 35 35 M 40 18 L 48 28 M 60 15 L 65 22 M 70 30 L 72 40 M 80 50 L 80 60" stroke="#4e342e" stroke-width="0.8"/><rect x="40" y="30" width="20" height="40" fill="#f5f5f5" stroke="#212121" stroke-width="0.5" transform="rotate(-5 50 50)"/><text x="44" y="55" font-size="12" fill="#c62828" font-family="serif" transform="rotate(-15, 50, 50)">怨</text><path d="M45,30 C 20,20 50,5 55,30" stroke="#b71c1c" stroke-width="1.5" fill="none"/><path d="M44,30.5 C 46,28 50,28 52,30.5" stroke="#b71c1c" stroke-width="1.5" fill="none"/></g></svg></div>
            <div class="text-content"><h3>O Amuleto do Remorso</h3><p>Você encontra um amuleto de madeira dura como rocha, a essência do Corpo-Seco, atado a um selo de papel Onryō. A lição: um segredo revelado é uma responsabilidade. Suas palavras podem tanto amaldiçoar quanto libertar.</p></div></div><p class="final-message">Você enfrentou o Lamento que Perdura. A jornada continua.</p>
        </div></section>
        <section id="path-dreams" class="path-container hidden"><div class="path-content">
            <h2>A Teia Onírica</h2><p>Você planta o segredo em um sonho. O rio se dissolve em névoa e você está em uma floresta onde a realidade e a fantasia se tocam. É o reino da Caipora e dos Baku, os tecelões de sonhos.</p>
            <div class="content-wrapper"><div class="interactive-container"><svg class="artifact" viewBox="0 0 100 100"><defs><filter id="glow-dream"><feGaussianBlur stdDeviation="2.5" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><g transform="rotate(5 50 50)"><path d="M50 10 a 40 40 0 1 1 -0.1 0" fill="none" stroke="#8d6e63" stroke-width="3"/><path d="M50 10 C 60 20, 30 30, 50 50 S 70 80, 50 90" stroke="#8d6e63" stroke-width="1.5"/><path d="M50 10 C 40 20, 70 30, 50 50 S 30 80, 50 90" stroke="#8d6e63" stroke-width="1.5"/><line x1="18" y1="28" x2="82" y2="72" stroke="rgba(161, 136, 127, 0.5)" stroke-width="1"/><line x1="28" y1="18" x2="72" y2="82" stroke="rgba(161, 136, 127, 0.5)" stroke-width="1"/><line x1="18" y1="72" x2="82" y2="28" stroke="rgba(161, 136, 127, 0.5)" stroke-width="1"/><line x1="28" y1="82" x2="72" y2="18" stroke="rgba(161, 136, 127, 0.5)" stroke-width="1"/></g><path d="M45 45 C 50 40, 55 40, 60 45 L 65 60 L 35 60 Z" fill="#212121" filter="url(#glow-dream)"/><path d="M48 50 a 3 2 0 1 1 0 4 a 3 2 0 1 1 0 -4" fill="gold"/><path d="M52 50 a 3 2 0 1 1 0 4 a 3 2 0 1 1 0 -4" fill="gold"/></svg></div>
            <div class="text-content"><h3>O Filtro dos Pesadelos</h3><p>Diante de você, um filtro dos sonhos de cipó. No centro, a silhueta de um Baku devora a escuridão. A lição: segredos sombrios podem ser transformados em sabedoria, assim como pesadelos são o alimento que dá força aos bons sonhos.</p></div></div><p class="final-message">Você aprendeu a tecer a realidade. A jornada continua.</p>
        </div></section>
        <section id="path-stars" class="path-container hidden"><div class="path-content">
            <h2>O Eclipse Eterno</h2><p>Você oferece o segredo ao céu. O rio sobe e se torna um caminho de estrelas. Você está no limiar onde Jaci, a lua brasileira, e Tsukuyomi, o deus da lua japonês, se encontram.</p>
            <div class="content-wrapper"><div class="interactive-container"><svg class="artifact" viewBox="0 0 100 100"><defs><radialGradient id="gradNight-real"><stop offset="60%" stop-color="#f0e6ff"/><stop offset="100%" stop-color="#7e57c2"/></radialGradient><filter id="glow-moon"><feGaussianBlur stdDeviation="3" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><circle cx="50" cy="50" r="45" fill="#283593"/><path d="M 15 15 Q 50 50, 15 85 Q 50 50, 85 85 Q 50 50, 85 15 Q 50 50, 15 15" fill="#1a237e"/><circle cx="50" cy="50" r="20" fill="url(#gradNight-real)" filter="url(#glow-moon)"/><circle cx="48" cy="48" r="1.5" fill="rgba(40, 53, 147, 0.5)"/><circle cx="55" cy="56" r="1" fill="rgba(40, 53, 147, 0.5)"/></svg></div>
            <div class="text-content"><h3>O Espelho de Duas Luas</h3><p>Você recebe um espelho de obsidiana. Um lado reflete a luz suave de Jaci. O outro, a luz fria de Tsukuyomi. A lição: todo segredo, como a lua, tem uma face iluminada e uma oculta. A verdadeira compreensão vem de aceitar ambas.</p></div></div><p class="final-message">Você compreendeu o equilíbrio dos céus. A jornada continua.</p>
        </div></section>
        
        <!-- PARTE 3: O ORÁCULO DAS FOLHAS (INICIALMENTE OCULTO) -->
        <section id="oracle-section" class="journey-section oracle-section hidden">
             <div class="oracle-intro">
                <h2>O Oráculo das Folhas</h2>
                <p>Sua jornada te trouxe a uma clareira silenciosa. No centro, uma árvore cujas raízes são de Samaúma e os galhos, de Cerejeira. Suas folhas não caem com o vento, mas com o peso do destino. O universo oferece uma resposta à sua alma. Clique na área abaixo para iniciar e pegue a folha que te chama.</p>
            </div>
            <div class="game-area" id="game-area"></div>
        </section>
    </main>

    <!-- MODAIS E CONTEÚDO OCULTO -->
    <div class="modal" id="story-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-modal">&times;</button>
            <h3 id="modal-title">Título da Lenda</h3>
            <p id="modal-text">Texto da lenda...</p>
        </div>
    </div>
    <div class="result-modal" id="result-modal">
        <div class="result-content">
            <h3 id="result-title">A Folha Sussurra...</h3>
            <p id="result-text"></p>
            <button class="close-result" id="close-result-btn">Tentar Novamente</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // LÓGICA DO MODAL (PARTE 1)
            const storyModal = document.getElementById('story-modal');
            const modalTitle = storyModal.querySelector('h3');
            const modalText = storyModal.querySelector('p');
            const closeModalBtn = storyModal.querySelector('.close-modal');
            const openModal = (title, text) => { if (storyModal) { modalTitle.textContent = title; modalText.innerHTML = text.replace(/\n/g, '<br>'); storyModal.classList.add('visible'); } };
            const closeModal = () => { if (storyModal) storyModal.classList.remove('visible'); };
            if (closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
            if (storyModal) storyModal.addEventListener('click', (e) => { if (e.target === storyModal) closeModal(); });
            document.querySelectorAll('main > .journey-section:not(#choice-hub):not(#oracle-section) .artifact, main > .journey-section .basket').forEach(item => {
                item.addEventListener('click', (e) => {
                    const target = e.currentTarget;
                    openModal(target.dataset.title, target.dataset.text);
                    if (target.classList.contains('basket')) {
                        target.classList.toggle('open');
                        const checkModalClosed = setInterval(() => { if (!storyModal.classList.contains('visible')) { target.classList.remove('open'); clearInterval(checkModalClosed); } }, 100);
                    }
                });
            });

            // LÓGICA DA ENCRUZILHADA (PARTE 2) E TRANSIÇÃO PARA A PARTE 3
            const choiceHub = document.getElementById('choice-hub');
            const choiceButtons = document.querySelectorAll('.choice-btn');
            const oracleSection = document.getElementById('oracle-section');
            choiceButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const chosenPathId = button.dataset.path;
                    const pathElement = document.getElementById(`path-${chosenPathId}`);
                    if (choiceHub && pathElement) {
                        document.querySelectorAll('.path-container').forEach(p => p.classList.add('hidden'));
                        pathElement.classList.remove('hidden');
                        choiceHub.classList.add('fading-out');
                        setTimeout(() => {
                            choiceHub.style.display = 'none';
                            pathElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            if (oracleSection) {
                                oracleSection.classList.remove('hidden');
                            }
                        }, 700);
                    }
                });
            });

            // LÓGICA DO ORÁCULO (PARTE 3)
            const gameArea = document.getElementById('game-area');
            const resultModal = document.getElementById('result-modal');
            const resultText = resultModal.querySelector('#result-text');
            const closeResultBtn = resultModal.querySelector('#close-result-btn');
            let gameActive = false;
            const fortunes = [
                "O caminho que você tanto evita é o único que pode te curar. O conforto se tornou sua jaula dourada.",
                "Essa ferida que você esconde de todos não é uma fraqueza. É o mapa para o seu verdadeiro poder. Pare de fugir dela.",
                "Você procura respostas no barulho do mundo, mas a pergunta mais importante só pode ser ouvida no seu próprio silêncio."
            ];
            const leafSVG = `<svg viewBox="0 0 100 150"><defs><linearGradient id="leafGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color: #FFD700;" /><stop offset="100%" style="stop-color: #B8860B;" /></linearGradient></defs><path fill="url(#leafGrad)" d="M50,0 C20,20 10,70 20,110 C25,140 40,150 50,150 C60,150 75,140 80,110 C90,70 80,20 50,0 Z"/><path fill="none" stroke="rgba(139, 69, 19, 0.4)" stroke-width="2" d="M50,150 C50,120 60,60 50,0"/><path fill="none" stroke="rgba(139, 69, 19, 0.3)" stroke-width="1.5" d="M50,100 C60,80 70,60 65,40"/><path fill="none" stroke="rgba(139, 69, 19, 0.3)" stroke-width="1.5" d="M50,100 C40,80 30,60 35,40"/><path fill="none" stroke="rgba(139, 69, 19, 0.3)" stroke-width="1.5" d="M50,120 C70,100 80,80 75,60"/><path fill="none" stroke="rgba(139, 69, 19, 0.3)" stroke-width="1.5" d="M50,120 C30,100 20,80 25,60"/></svg>`;
            const startGame = () => { if (!gameActive) { gameActive = true; gameArea.innerHTML = ''; gameArea.classList.add('active'); for (let i = 0; i < 3; i++) createFallingLeaf(i); } };
            const createFallingLeaf = (index) => {
                const leafContainer = document.createElement('div');
                leafContainer.className = 'falling-leaf';
                leafContainer.innerHTML = leafSVG;
                leafContainer.style.left = `${15 + Math.random() * 70}%`;
                leafContainer.style.animationDuration = `${4 + Math.random() * 2}s, ${3 + Math.random() * 2}s`;
                leafContainer.style.animationDelay = `${index * 1.2}s`;
                const handleLeafClick = (event) => {
                    event.stopPropagation(); 
                    if (!gameActive) return;
                    showResult(fortunes[index]);
                    gameArea.querySelectorAll('.falling-leaf').forEach(l => { l.style.animationPlayState = 'paused'; l.style.pointerEvents = 'none'; });
                };
                leafContainer.addEventListener('click', handleLeafClick);
                gameArea.appendChild(leafContainer);
                leafContainer.addEventListener('animationend', (e) => { if (e.animationName === 'fall-leaf' && leafContainer.parentElement) leafContainer.remove(); });
            };
            const showResult = (text) => { resultText.innerText = text; resultModal.classList.add('visible'); };
            const resetGame = () => { gameActive = false; gameArea.innerHTML = ''; gameArea.classList.remove('active'); };
            if (gameArea) gameArea.addEventListener('click', startGame);
            if (closeResultBtn) closeResultBtn.addEventListener('click', () => { resultModal.classList.remove('visible'); resetGame(); });
        });
    </script>
</body>
</html>
